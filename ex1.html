<!DOCTYPE html>
<html lang="en-US" style="height:100%">
<head>
<meta charset="utf-8">
<title>TouchJs测试</title>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
<style type="text/css">
body{
    margin:0px;
    padding:0px;
    background :#000;
    font-family:'microsoft yahei'
}
.consoleCnt{
    position:absolute;
    top: 0px;
    left: 0px;
    right: 0px;
    bottom:60px;
    overflow:auto;
}
.console{
    position:relative;
    width:33.33%;
    float:left;
    top:0px;
    left:0px;
    padding: 0px 0px 100px;
    overflow: auto;
    line-height:24px;
    text-align:center;
    font-size:13px;
    color:#fff
}
.console3{background:#333;min-height:1000px;}
#touch{
    position:fixed;
    bottom:0px;
    left:0px;
    width:100%;
    height:60px;
    background:#fff;
}
.checkA,.checkB,.checkC{
    width : 33.33%;
    height : 60px;
    line-height : 60px;
    text-align: center;
    font-size:14px;
    background: #fff;
    float: left
}
.checkC{
    background:#eee 
}
</style>
</head>
<body>

<div class="consoleCnt">
    <div class="console console1">
        --logger--<br/>
    </div>
    <div class="console console3">
        --logger--<br/>
    </div>
    <div class="console console2">
        --logger--<br/>
    </div>
</div>

<div id="touch">
    <div class="checkA">
        <span>拖动</span>
    </div>
    <div class="checkC">
        全部
    </div>
    <div class="checkB">
        <span>手势</span>
    </div>
</div>

<script type="text/javascript" src="http://lib.sinaapp.com/js/jquery/1.7.2/jquery.min.js"></script>
<script type="text/javascript" src="touch.js"></script>
<script type="text/javascript">
    var i = 0;
    function I(){
        i++;
        if(i>=100){
            i=1;
        }
        return '-' + i;
    }

    var bodyTouch = touch($('#touch')[0]);

    bodyTouch.on('tap',function(e){
        $('.console3').append('tap'+I()+'<br/>');
    }).on('doubletap',function(e){
        $('.console3').append('doubletap'+I()+'<br/>');
    }).on('longtap',function(e){
        $('.console3').append('longtap'+I()+'<br/>');
    }).on('swipestart',function(e){
        $('.console3').append('swipestart'+I()+'<br/>');
    }).on('swipe',function(e){
        $('.console3').append('swipe'+I()+'<br/>');
    }).on('swipeend',function(e){
        $('.console3').append('swipeend'+I()+'<br/>');
    }).on('swipeup',function(e){
        $('.console3').append('swipeup'+I()+'<br/>');
    }).on('swiperight',function(e){
        $('.console3').append('swiperight'+I()+'<br/>');
    }).on('swipedown',function(e){
        $('.console3').append('swipedown'+I()+'<br/>');
    }).on('swipeleft',function(e){
        $('.console3').append('swipeleft'+I()+'<br/>');
    });

    bodyTouch.on('swipestart','.checkA',function(e){
        $('.console1').append('swipestart<br/>');
        $(this).css({
            'position':'relative',
            'background':'#ddd'
        });
    }).on('swipe','.checkA',function(e){
        $('.console1').append('swipe-'+e.pageX +'<br/>');
        $(this).css({
            'top':e.moveY,
            'left':e.moveX
        });
        return false;
    }).on('swipeend','.checkA',function(e){
        $('.console1').append('swipeend<br/>');
        $(this).animate({
            'position':'static',
            'top':0,
            'left':0,
            'background':'#fff'
        },100);
        $(this).css('background','#fff');
    });

    bodyTouch.on('tap','.checkB',function(e){
        $('.console2').append('tap'+I()+'<br/>');
    }).on('doubletap','.checkB',function(e){
        $('.console2').append('doubletap'+I()+'<br/>');
    }).on('longtap','.checkB',function(e){
        $('.console2').append('longtap'+I()+'<br/>');
    }).on('swipeup','.checkB',function(e){
        $('.console2').append('swipeup'+I()+'<br/>');
    }).on('swiperight','.checkB',function(e){
        $('.console2').append('swiperight'+I()+'<br/>');
    }).on('swipedown','.checkB',function(e){
        $('.console2').append('swipedown'+I()+'<br/>');
    }).on('swipeleft','.checkB',function(e){
        $('.console2').append('swipeleft'+I()+'<br/>');
    });

    $('.consoleCnt').click(function(){
        $('.console').html('--logger--<br/>');
    });
</script>

</body>
</html>
